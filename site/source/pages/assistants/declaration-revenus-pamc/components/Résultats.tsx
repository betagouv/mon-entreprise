import { useTranslation } from 'react-i18next'
import { styled } from 'styled-components'

import { Condition } from '@/components/EngineValue/Condition'
import { WhenAlreadyDefined } from '@/components/EngineValue/WhenAlreadyDefined'
import { Emoji } from '@/design-system/emoji'
import { Container, Spacing } from '@/design-system/layout'
import { H2, H4 } from '@/design-system/typography/heading'
import { Body } from '@/design-system/typography/paragraphs'

import { LigneImp√¥ts } from './LigneImp√¥ts'

export default function R√©sultats() {
	const { t } = useTranslation()

	return (
		<WhenAlreadyDefined dottedName="d√©claration revenus PAMC . r√©sultats">
			<Container
				forceTheme="dark"
				backgroundColor={(theme) => theme.colors.bases.primary[600]}
			>
				<H2>
					<Emoji emoji="üìÑ" />{' '}
					{t(
						'pages.assistants.declaration-revenus-pamc.resultats.title.1',
						'Montants √† reporter dans votre d√©claration de revenus'
					)}
				</H2>

				<StyledBody>
					{t(
						'pages.assistants.declaration-revenus-pamc.resultats.label.1',
						'Situation au 1er janvier ou √† la date du d√©but d‚Äôactivit√©'
					)}
				</StyledBody>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . statut"
					code="DSAP"
					expression="d√©claration revenus PAMC . statut = 'titulaire'"
					label={t(
						'pages.assistants.declaration-revenus-pamc.resultats.label.2',
						'Vous √™tes titulaire'
					)}
				/>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . statut"
					code="DSAQ"
					expression="d√©claration revenus PAMC . statut = 'rempla√ßant'"
					label={t(
						'pages.assistants.declaration-revenus-pamc.resultats.label.3',
						'Vous √™tes rempla√ßant'
					)}
				/>

				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . recettes brutes totales"
					code="DSCS"
					label={t(
						'pages.assistants.declaration-revenus-pamc.resultats.label.4',
						'Recettes brutes totales tir√©es des activit√©s non salari√©es'
					)}
				/>

				<Condition expression="d√©claration revenus PAMC . revenus de remplacement . total">
					<H4 as="h3">
						{t(
							'pages.assistants.declaration-revenus-pamc.resultats.title.2',
							'Montant des revenus de remplacement'
						)}
					</H4>
				</Condition>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . revenus de remplacement . IJ"
					code="DSAS"
				/>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . revenus de remplacement . AJPA"
					code="DSAG"
				/>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . revenus de remplacement . indemnit√©s incapacit√© temporaire"
					code="DSCP"
				/>

				<Condition expression="d√©claration revenus PAMC . d√©ductions et exon√©rations . total d√©ductible">
					<H4 as="h3">
						{t(
							'pages.assistants.declaration-revenus-pamc.resultats.title.3',
							'D√©ductions et exon√©rations'
						)}
					</H4>
				</Condition>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . d√©ductions et exon√©rations . zone d√©ficitaire en offre de soins"
					code="DSFA"
				/>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . d√©ductions et exon√©rations . d√©duction groupe III"
					code="DSCO"
					label={t(
						'pages.assistants.declaration-revenus-pamc.resultats.label.5',
						'M√©decin secteur 1 - d√©duction compl√©mentaire 3%'
					)}
				/>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . d√©ductions et exon√©rations . ch√®ques vacances"
					code="DSCN"
					label={t(
						'pages.assistants.declaration-revenus-pamc.resultats.label.6',
						'Ch√®ques vacances d√©duits du revenu imposable'
					)}
				/>

				<H4 as="h3">
					{t(
						'pages.assistants.declaration-revenus-pamc.resultats.title.4',
						'Cotisations sociales obligatoires'
					)}
				</H4>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . cotisations sociales obligatoires"
					code="DSCA"
					label={t(
						'pages.assistants.declaration-revenus-pamc.resultats.label.7',
						'Cotisations sociales obligatoires d√©duites du r√©sultat imposable'
					)}
				/>

				<H4 as="h3">
					{t(
						'pages.assistants.declaration-revenus-pamc.resultats.title.5',
						'R√©partition des revenus nets'
					)}
				</H4>
				<StyledBody>
					{t(
						'pages.assistants.declaration-revenus-pamc.resultats.label.8',
						'Revenus nets de l‚Äôactivit√© conventionn√©e¬†:'
					)}
				</StyledBody>
				<Condition expression="d√©claration revenus PAMC . revenus nets . revenus conventionn√©s >= 0">
					<LigneImp√¥ts
						dottedName="d√©claration revenus PAMC . revenus nets . revenus conventionn√©s"
						code="DSGA"
						label={t('B√©n√©fice', 'B√©n√©fice')}
					/>
				</Condition>
				<Condition expression="d√©claration revenus PAMC . revenus nets . revenus conventionn√©s < 0">
					<LigneImp√¥ts
						dottedName="d√©claration revenus PAMC . revenus nets . revenus conventionn√©s"
						code="DSHA"
						label={t('D√©ficit', 'D√©ficit')}
					/>
				</Condition>

				<StyledBody>
					{t(
						'pages.assistants.declaration-revenus-pamc.resultats.label.9',
						'Revenus nets tir√©s des autres activit√©s non salari√©es¬†:'
					)}
				</StyledBody>
				<Condition expression="d√©claration revenus PAMC . revenus nets . revenus non conventionn√©s >= 0">
					<LigneImp√¥ts
						dottedName="d√©claration revenus PAMC . revenus nets . revenus non conventionn√©s"
						code="DSCR"
						label={t('B√©n√©fice', 'B√©n√©fice')}
					/>
				</Condition>
				<Condition expression="d√©claration revenus PAMC . revenus nets . revenus non conventionn√©s < 0">
					<LigneImp√¥ts
						dottedName="d√©claration revenus PAMC . revenus nets . revenus non conventionn√©s"
						code="DSCQ"
						label={t('D√©ficit', 'D√©ficit')}
					/>
				</Condition>

				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . revenus nets . revenus structures de soins"
					code="DSAT"
					label={t(
						'pages.assistants.declaration-revenus-pamc.resultats.label.10',
						'Dont revenus nets de l‚Äôactivit√© r√©alis√©e dans des structures de soins'
					)}
				/>

				<Condition expression="d√©claration revenus PAMC . cotisations facultatives">
					<H4 as="h3">
						{t(
							'pages.assistants.declaration-revenus-pamc.resultats.title.6',
							'Cotisations facultatives'
						)}
					</H4>
				</Condition>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . cotisations facultatives"
					code="DSEA"
				/>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . cotisations facultatives . activit√© conventionn√©e"
					code="DSAR"
					label={t(
						'pages.assistants.declaration-revenus-pamc.resultats.label.11',
						'Dont cotisations facultatives li√©es √† l‚Äôactivit√© conventionn√©e'
					)}
				/>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . cotisations facultatives . autres activit√©s non salari√©es"
					code="DSCM"
					label={t(
						'pages.assistants.declaration-revenus-pamc.resultats.label.12',
						'Dont cotisations facultatives li√©es aux autres activit√©s non salari√©es'
					)}
				/>

				<H4 as="h3">
					{t(
						'pages.assistants.declaration-revenus-pamc.resultats.title.7',
						'Donn√©es transmises par l‚ÄôAssurance Maladie'
					)}
				</H4>
				<Condition expression="d√©claration revenus PAMC . profession != 'dentiste'">
					<LigneImp√¥ts
						dottedName="d√©claration revenus PAMC . SNIR . honoraires remboursables"
						code="DSAV"
					/>
					<LigneImp√¥ts
						dottedName="d√©claration revenus PAMC . SNIR . d√©passements honoraires"
						code="DSAW"
					/>
				</Condition>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . SNIR . honoraires tarifs opposables"
					code="DSAX"
				/>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . SNIR . honoraires hors forfaits"
					code="DSAY"
				/>
				<LigneImp√¥ts
					dottedName="d√©claration revenus PAMC . SNIR . taux urssaf"
					code="DSAZ"
					arrondi={false}
				/>

				<Spacing xxl />
			</Container>
		</WhenAlreadyDefined>
	)
}

const StyledBody = styled(Body)`
	margin-bottom: 0;
`
