<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<base href="/" />
		<meta name="viewport" content="initial-scale=1" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />

		<link
			rel="apple-touch-icon"
			sizes="180x180"
			href="/favicon/apple-touch-icon.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="32x32"
			href="/favicon/favicon-32x32.png"
		/>
		<link
			rel="icon"
			type="image/png"
			sizes="16x16"
			href="/favicon/favicon-16x16.png"
		/>
		<link rel="shortcut icon" href="/favicon/favicon.ico" />
		<meta name="msapplication-TileColor" content="#da532c" />
		<meta name="msapplication-config" content="/favicon/browserconfig.xml" />

		<meta
			name="description"
			content="<%= htmlWebpackPlugin.options.description %>"
			data-react-helmet="true"
		/>
		<meta property="og:type" content="website" />
		<meta
			property="og:title"
			content="<%= htmlWebpackPlugin.options.title %>"
		/>
		<meta
			property="og:description"
			content="<%= htmlWebpackPlugin.options.description %>"
		/>

		<meta property="og:image" content="<%= htmlWebpackPlugin.options.logo %>" />
		<meta
			name="google-site-verification"
			content="oQ9gPKS4kocrCJP6CoguSkdIKKZ6ilZz0aQw_ZIgtVc"
		/>

		<!-- data-helmet pour que React Helmet puisse écraser ce meta par défaut -->
		<link
			href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,500,600|Montserrat:400,600"
			rel="stylesheet"
			type="text/css"
		/>
		<link rel="manifest" href="/manifest.webmanifest" />
		<title>
			<%= htmlWebpackPlugin.options.title %>
		</title>

		<% for (var css in htmlWebpackPlugin.files.css) { %>
		<link href="<%= htmlWebpackPlugin.files.css[css] %>" rel="stylesheet" />
		<% } %>
		<style>
			html[data-useragent*='MSIE'] #outdated-browser,
			html[data-useragent*='Safari'][data-useragent*='Version/8']
				#outdated-browser,
			html[data-useragent*='Safari'][data-useragent*='Version/7']
				#outdated-browser,
			html[data-useragent*='Trident'] #outdated-browser {
				display: block !important;
			}

			html[data-useragent*='MSIE'] #loading,
			html[data-useragent*='Safari'][data-useragent*='Version/8'] #loading,
			html[data-useragent*='Safari'][data-useragent*='Version/7'] #loading,
			html[data-useragent*='Trident'] #loading {
				display: none !important;
			}

			html[data-useragent*='MSIE'] #js,
			html[data-useragent*='Safari'][data-useragent*='Version/8'] #js,
			html[data-useragent*='Safari'][data-useragent*='Version/7'] #js,
			html[data-useragent*='Trident'] #js {
				display: none !important;
			}

			/* Prevent FOUC effect */
			#js {
				opacity: 0;
			}

			/* CSS Loader */

			#loading {
				animation: appear 0.6s;
				width: 100%;
			}

			#EarthLoader {
				height: 100vh;
				background: black;
			}
			.earth {
				height: 200px;
				width: 200px;
				border-radius: 50%;
				background-color: blue;
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				overflow: hidden;
				z-index: 2;
				box-shadow: inset -30px 0 rgba(0, 0, 0, 0.2),
					0 0 0 120px rgba(20, 106, 221, 0.1),
					0 0 0 300px rgba(20, 106, 221, 0.1),
					0 0 0 500px rgba(20, 106, 221, 0.1);
			}

			/* Land */
			.earth:before {
				content: '';
				position: absolute;
				background: #85c567;
				height: 30px;
				width: 75px;
				left: 0;
				top: 50px;
				display: block;
				border-radius: 40px;
				animation: rotateElement linear 25s infinite;
				box-shadow: 0px 75px 0 -5px #85c567, 5px 35px 0 -3px #85c567,
					35px 125px 0 -9px #85c567, 120px -15px 0 -7px #85c567,
					135px -55px 0 -9px #85c567, 150px 25px 0 7px #85c567,
					220px 70px 0 -2px #85c567, 235px -35px 0 -3px #85c567,
					280px 85px 0 3px #85c567, 320px 30px 0 1px #85c567,
					400px 0 0 0 #85c567, 400px 75px 0 -5px #85c567,
					405px 35px 0 -3px #85c567, 435px 125px 0 -9px #85c567,
					520px -15px 0 -7px #85c567, 535px -55px 0 -9px #85c567,
					550px 25px 0 7px #85c567, 620px 70px 0 -2px #85c567,
					635px -35px 0 -3px #85c567, 680px 85px 0 3px #85c567,
					720px 30px 0 1px #85c567;
			}

			/* Clouds */
			.earth:after {
				content: '';
				position: absolute;
				background: white;
				height: 20px;
				width: 60px;
				left: 0px;
				top: 50px;
				display: block;
				border-radius: 40px;
				opacity: 0.7;
				animation: rotateElement linear 15s infinite;
				box-shadow: 10px 50px 0 3px white, 50px -15px 0 2px white,
					70px 70px 0 -1px white, 100px 25px 0 1px white,
					110px 105px 0 -4px white, 140px 75px 0 -3px white,
					250px -25px 0 -1px white, 210px 50px 0 1px white,
					340px 130px 0 1px white, 400px 0px 0 0 white, 410px 50px 0 3px white,
					500px 25px 0 1px white, 450px -15px 0 2px white,
					470px 70px 0 -1px white, 540px 75px 0 -3px white,
					510px 105px 0 -4px white, 650px -25px 0 -1px white,
					610px 50px 0 1px white, 740px 130px 0 1px white;
			}

			.earth--shadow {
				height: 100%;
				width: 100%;
				border-radius: 50%;
				position: absolute;
				background-color: transparent;
				z-index: 4;
				box-shadow: inset -30px 0 rgba(0, 0, 0, 0.1);
			}

			.moon {
				height: 20px;
				width: 20px;
				border-radius: 50%;
				position: absolute;
				background-color: #a5a5a5;
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				overflow: auto;
				z-index: 10;
				box-shadow: inset -3px 0 rgba(0, 0, 0, 0.2);
				animation: moonOrbit ease-in-out 5s infinite;
			}
			.moon:after {
				content: '';
				height: 5px;
				width: 5px;
				border-radius: 50%;
				background: gray;
				position: absolute;
				top: 8px;
				left: 10px;
				box-shadow: -4px 3px 0 -1px gray, 4px 2px 0 -1px gray,
					-2px -6px 0 -1px gray;
			}

			.stars {
				height: 10px;
				width: 10px;
				border-radius: 50%;
				position: absolute;
				background-color: white;
				position: absolute;
				top: 50%;
				left: 50%;
				transform: translate(-50%, -50%);
				overflow: auto;
				z-index: 1;
				box-shadow: 510px -450px 0 1px white, 490px -125px 0 -2px white,
					150px -150px 0 -1px white, 130px 270px 0 -1px white,
					480px 475px 0 -3px white, -610px 605px 0 -4px white,
					570px 750px 0 -3px white, -550px 425px 0 1px white,
					650px -105px 0 -2px white, 310px 60px 0 -1px white,
					-340px 175px 0 -3px white, -610px 1205px 0 -4px white,
					500px 450px 0 -3px white, -500px 125px 0 1px white,
					-150px -615px 0 -2px white, -110px -370px 0 -1px white,
					-440px -175px 0 -3px white, -610px -205px 0 -4px white,
					410px -450px 0 -3px white, 390px -125px 0 -2px white,
					50px -250px 0 -1px white, 30px -170px 0 -1px white,
					380px 375px 0 -5px white, -710px 705px 0 -6px white,
					470px -650px 0 -3px white, -450px 425px 0 1px white,
					550px -205px 0 -5px white, 210px 50px 0 -1px white,
					-240px 275px 0 -5px white, -510px 120px 0 -4px white,
					600px 550px 0 -3px white, -400px 225px 0 1px white,
					-250px -515px 0 -2px white, -310px -170px 0 -4px white,
					-340px -275px 0 -4px white, -510px -305px 0 -5px white;
			}

			.inspiration {
				position: absolute;
				bottom: 10px;
				right: 10px;
				color: white;
				font-size: 10px;

				a {
					color: white;
				}
			}

			@keyframes rotateElement {
				0% {
					transform: translate(0, 0);
				}
				100% {
					transform: translate(-400px, 0);
				}
			}

			@keyframes moonOrbit {
				0% {
					transform: translate(-250px, 0);
					z-index: 10;
				}
				20% {
					z-index: -1;
				}
				50% {
					transform: translate(250px, 0);
				}
				100% {
					transform: translate(-250px, 0);
				}
			}
		</style>
		<meta name="theme-color" content="#3742fa" />
	</head>

	<body>
		<div id="loading">
			<div id="EarthLoader">
				<div class="earth">
					<div class="earth--shadow"></div>
				</div>
				<div class="moon"></div>
				<div class="stars"></div>
			</div>
		</div>

		<!-- USER AGENT DATA ATTRIBUTE  -->

		<script>
			var b = document.documentElement
			b.setAttribute('data-useragent', navigator.userAgent)
		</script>

		<!-- APP  -->
		<div id="js"></div>

		<!-- OUTDATED BROWSER WARNING -->
		<div
			id="outdated-browser"
			style="position: fixed; top: 0; left: 0; bottom: 0; right: 0; display: none; background-color: white"
		>
			<div
				style="margin: 100px auto; max-width: 800px; text-align: center; font-family: 'Montserrat', sans-serif; font-weight: 300;"
			>
				<img
					src="images/marianne.svg"
					alt="Un service de l'État français"
					style="width: 200px; margin-bottom: 2rem;"
				/>
				<h1>
					Votre navigateur n'est plus supporté.
				</h1>
				<h2>
					Nous vous invitons à réessayer avec un autre, ou depuis un mobile
					récent.
				</h2>
				<br />
				<br />
				<h3>
					Si besoin, vous pouvez en installer un nouveau depuis
					<a style="color: #2975d1" href="http://outdatedbrowser.com/fr"
						>cette page</a
					>
				</h3>
				<h3>
					<a
						href="javascript:void(0);"
						onclick="
					var b = document.documentElement;
					b.setAttribute('data-useragent',  'force-navigation-anyway');
				"
						>Continuer quand même vers le site</a
					>
				</h3>
			</div>
		</div>
		<!-- Matomo : track only production code-->
		<% if (htmlWebpackPlugin.options.injectTrackingScript) { %>
		<script type="text/javascript">
			var _paq = window._paq || []
			_paq.push([
				function() {
					var self = this
					function getOriginalVisitorCookieTimeout() {
						var now = new Date(),
							nowTs = Math.round(now.getTime() / 1000),
							visitorInfo = self.getVisitorInfo()
						var createTs = parseInt(visitorInfo[2])
						var cookieTimeout = 33696000 // 13 mois en secondes
						var originalTimeout = createTs + cookieTimeout - nowTs
						return originalTimeout
					}
					this.setVisitorCookieTimeout(getOriginalVisitorCookieTimeout())
				}
			])

			/* tracker methods like "setCustomDimension" should be called before "trackPageView" */
			_paq.push(['setDocumentTitle', document.domain + '/' + document.title])
			_paq.push([
				'setDomains',
				['*.mon-entreprise.fr', '*.mycompanyinfrance.fr']
			])
			_paq.push(['trackPageView'])
			_paq.push(['enableHeartBeatTimer', 30])
			_paq.push(['enableLinkTracking'])
			;(function() {
				var u = 'https://stats.data.gouv.fr/'
				_paq.push(['setTrackerUrl', u + 'piwik.php'])
				_paq.push(['setSiteId', '39'])
				var d = document,
					g = d.createElement('script'),
					s = d.getElementsByTagName('script')[0]
				g.type = 'text/javascript'
				g.async = true
				g.defer = true
				g.src = u + 'piwik.js'
				s.parentNode.insertBefore(g, s)
			})()
		</script>
		<% } %>
		<!-- End Matomo Code -->

		<script>
			// Add support for nomodule attribute to SAFARI 10.1
			;(function() {
				var d = document
				var c = d.createElement('script')
				if (!('noModule' in c) && 'onbeforeload' in c) {
					var s = false
					d.addEventListener(
						'beforeload',
						function(e) {
							if (e.target === c) {
								s = true
							} else if (!e.target.hasAttribute('nomodule') || !s) {
								return
							}
							e.preventDefault()
						},
						true
					)
					c.type = 'module'
					c.src = '.'
					d.head.appendChild(c)
					c.remove()
				}
			})()
		</script>

		<% for (var chunk in htmlWebpackPlugin.files.chunks) { %>
		<script
			type="module"
			src="<%= htmlWebpackPlugin.files.chunks[chunk].entry %>"
		></script>
		<% } %>

		<!-- Polyfill and source for old browser -->
		<!-- Add polyfill.io for a very narrow web feature
			IntersectionObserver : SAFARI 11 & 12.0  https://caniuse.com/#search=intersectionobserver
			Intl : SAFARI 9 & 10.0  https://caniuse.com/#search=Intl
		-->
		<script src="https://polyfill.io/v3/polyfill.min.js?features=Intl.~locale.en%2CIntl.~locale.fr%2CIntersectionObserver"></script>
		<% for (var chunk in htmlWebpackPlugin.files.chunks) { %>
		<script nomodule src="<%= chunk %>.legacy.bundle.js"></script>
		<% } %>
	</body>
</html>
