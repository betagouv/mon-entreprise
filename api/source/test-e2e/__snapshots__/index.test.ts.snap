// Vitest Snapshot v1

exports[`e2e test mon-entreprise api > Test evaluate brut => net + super brut 2`] = `
{
  "evaluate": [
    {
      "missingVariables": {
        "dirigeant . gérant minoritaire": 907714.3376000001,
        "entreprise . catégorie juridique": 17241229.895199995,
        "salarié . activité partielle": 73493.59219999998,
        "salarié . contrat": 482043.04020000005,
        "salarié . contrat . statut cadre": 1276.232,
        "salarié . contrat . temps de travail . temps partiel": 88174.30859999996,
        "salarié . convention collective": 116477.33420000001,
        "salarié . cotisations . prévoyances . santé . montant": 1276.1043999999997,
        "salarié . cotisations . prévoyances . santé . taux employeur": 1276.1043999999997,
        "salarié . régimes spécifiques . DFS": 696.0928,
        "salarié . rémunération . avantages en nature": 10094.293399999999,
        "salarié . rémunération . frais professionnels . titres-restaurant": 12414.293399999999,
        "salarié . rémunération . frais professionnels . trajets domicile travail . forfait mobilités durables . montant": 29466.998599999988,
        "salarié . rémunération . frais professionnels . trajets domicile travail . prime de transport . montant": 29467.926599999995,
        "salarié . rémunération . frais professionnels . trajets domicile travail . transports publics . montant": 68219.21139999997,
        "salarié . rémunération . primes . activité . base": 10093.293399999999,
        "salarié . rémunération . primes . fin d'année": 10093.293399999999,
        "salarié . temps de travail . heures supplémentaires": 29233.76899999999,
        "situation personnelle . domiciliation fiscale à l'étranger": 232.03480000000005,
        "établissement . localisation": 500.03800000000007,
      },
      "nodeValue": 2749.50805,
      "traversedVariables": [
        "salarié . rémunération . net . à payer avant impôt",
        "salarié . rémunération . net",
        "salarié . rémunération . net . sans revenus de remplacement",
        "salarié . rémunération . brut",
        "salarié . contrat . salaire brut",
        "salarié . rémunération . avantages en nature . montant",
        "salarié . rémunération . avantages en nature",
        "dirigeant . assimilé salarié",
        "dirigeant",
        "dirigeant . régime social",
        "entreprise . catégorie juridique . SELARL",
        "entreprise . catégorie juridique",
        "entreprise . catégorie juridique . SELAS",
        "entreprise . catégorie juridique . autre",
        "entreprise . catégorie juridique . EI . auto-entrepreneur",
        "entreprise . catégorie juridique . EI",
        "entreprise . catégorie juridique . SAS",
        "entreprise . catégorie juridique . SARL",
        "dirigeant . gérant minoritaire",
        "entreprise . catégorie juridique . SARL . unipersonnelle",
        "entreprise . catégorie juridique . SAS . unipersonnelle",
        "salarié . rémunération . primes",
        "salarié . rémunération . primes . activité",
        "salarié . rémunération . primes . activité . base",
        "salarié . convention collective . sport . primes",
        "salarié . convention collective . sport",
        "salarié . convention collective",
        "salarié . rémunération . primes . activité . conventionnelles",
        "salarié . convention collective . optique . prime d'ancienneté",
        "salarié . convention collective . optique",
        "salarié . rémunération . primes . ancienneté",
        "salarié . rémunération . primes . fin d'année . montant",
        "salarié . rémunération . primes . fin d'année",
        "salarié . rémunération . indemnités CDD",
        "salarié . contrat . CDD",
        "salarié . contrat",
        "salarié . rémunération . heures supplémentaires",
        "salarié . activité partielle",
        "salarié . contrat . stage",
        "salarié . temps de travail . heures supplémentaires",
        "salarié . contrat . apprentissage",
        "salarié . contrat . temps de travail . temps partiel",
        "période . semaines par mois",
        "période",
        "salarié . temps de travail . durée légale",
        "salarié . convention collective . compta . majoration heures supplémentaires",
        "salarié . convention collective . compta",
        "salarié . convention collective . HCR . majoration heures supplémentaires",
        "salarié . convention collective . HCR",
        "salarié . temps de travail . heures supplémentaires . majoration",
        "salarié . rémunération . heures complémentaires",
        "salarié . temps de travail . heures complémentaires",
        "salarié . temps de travail . heures complémentaires . majoration",
        "salarié . rémunération . frais professionnels",
        "salarié . rémunération . frais professionnels . titres-restaurant . employeur",
        "salarié . rémunération . frais professionnels . titres-restaurant",
        "salarié . rémunération . frais professionnels . trajets domicile travail . employeur",
        "salarié . rémunération . frais professionnels . trajets domicile travail . transports publics . employeur",
        "salarié . rémunération . frais professionnels . trajets domicile travail . transports publics . montant",
        "salarié . rémunération . frais professionnels . trajets domicile travail . forfait mobilités durables . montant",
        "salarié . régimes spécifiques . DFS",
        "salarié . rémunération . frais professionnels . trajets domicile travail . prime de transport . montant",
        "salarié . contrat . temps de travail . quotité",
        "salarié . contrat . temps de travail",
        "salarié . temps de travail . durée légale . mensuelle",
        "salarié . activité partielle . retrait absence",
        "salarié . cotisations . salarié",
        "salarié . cotisations . vieillesse . salarié",
        "salarié . régimes spécifiques . impatriés",
        "situation personnelle . domiciliation fiscale à l'étranger",
        "salarié . cotisations . vieillesse",
        "salarié . cotisations . vieillesse . salarié . déplafonnée",
        "salarié . régimes spécifiques . intermittents du spectacle . artiste . réduction de taux",
        "salarié . régimes spécifiques . intermittents du spectacle . artiste",
        "salarié . contrat . CDD . motif",
        "salarié . régimes spécifiques . DFS . profession . journaliste . réduction de taux",
        "salarié . régimes spécifiques . DFS . profession . journaliste",
        "salarié . cotisations . vieillesse . salarié . déplafonnée . taux",
        "salarié . contrat . apprentissage . assiette réduite apprentissage",
        "salarié . cotisations . assiette",
        "salarié . cotisations . assiette . sans prévoyance",
        "salarié . cotisations . assiette forfaitaire . rémunération réelle",
        "salarié . régimes spécifiques . intermittents du spectacle . artiste . acteur de complément . assiette forfaitaire",
        "salarié . convention collective . sport . cotisations . assiette forfaitaire",
        "salarié . convention collective . sport . cotisations",
        "salarié . cotisations . assiette forfaitaire",
        "plafond sécurité sociale",
        "salarié . rémunération . frais professionnels . déductible",
        "salarié . rémunération . frais professionnels . titres-restaurant . déductible",
        "salarié . rémunération . frais professionnels . trajets domicile travail . déductible",
        "salarié . rémunération . frais professionnels . trajets domicile travail . prime de transport . déductible",
        "salarié . contrat . stage . gratification minimale",
        "salarié . cotisations . prévoyances . employeur . non déductible socialement",
        "salarié . cotisations . prévoyances . employeur",
        "salarié . cotisations . prévoyances . santé . employeur",
        "salarié . cotisations . prévoyances . santé",
        "salarié . convention collective . sport . cotisations . régime frais de santé",
        "salarié . cotisations . prévoyances . santé . montant",
        "salarié . cotisations . prévoyances . santé . taux employeur",
        "salarié . convention collective . BTP . catégorie . ouvrier . prévoyance complémentaire . employeur",
        "salarié . convention collective . BTP . catégorie . ouvrier",
        "salarié . convention collective . BTP",
        "salarié . convention collective . BTP . catégorie . etam . prévoyance complémentaire . employeur",
        "salarié . convention collective . BTP . catégorie . etam",
        "salarié . convention collective . BTP . catégorie . cadre . prévoyance complémentaire . employeur",
        "salarié . convention collective . BTP . catégorie . cadre",
        "salarié . convention collective . HCR . prévoyance conventionnelle . employeur",
        "salarié . convention collective . optique . prévoyance . employeur",
        "salarié . convention collective . sport . cotisations . prévoyance . employeur",
        "salarié . cotisations . prévoyances . conventionnelle . employeur",
        "salarié . contrat . statut cadre",
        "salarié . cotisations . vieillesse . salarié . plafonnée",
        "salarié . cotisations . vieillesse . salarié . plafonnée . taux",
        "salarié . temps de travail . plafond sécurité sociale",
        "salarié . temps de travail . effectif . quotité",
        "salarié . temps de travail . effectif",
        "salarié . temps de travail",
        "salarié . activité partielle . heures chômées",
        "salarié . cotisations . vieillesse . employeur",
        "salarié . cotisations . vieillesse . employeur . déplafonnée",
        "salarié . cotisations . vieillesse . employeur . déplafonnée . taux",
        "salarié . cotisations . vieillesse . employeur . plafonnée",
        "salarié . cotisations . vieillesse . employeur . plafonnée . taux",
        "salarié . cotisations . maladie . salarié",
        "salarié . cotisations . maladie . salarié . taux",
        "salarié . régimes spécifiques . alsace moselle",
        "établissement . localisation . département",
        "établissement . localisation",
        "salarié . cotisations . retraite complémentaire . salarié",
        "salarié . cotisations . retraite complémentaire",
        "salarié . cotisations . retraite complémentaire . employeur",
        "salarié . régimes spécifiques . intermittents du spectacle . retraite complémentaire techniciens et cadre",
        "salarié . régimes spécifiques . intermittents du spectacle . artiste . non cadre",
        "salarié . cotisations . retraite complémentaire . employeur . taux T1",
        "salarié . régimes spécifiques . intermittents du spectacle . technicien . non cadre",
        "salarié . régimes spécifiques . intermittents du spectacle . technicien",
        "salarié . cotisations . retraite complémentaire . employeur . taux T2",
        "salarié . cotisations . retraite complémentaire . salarié . taux T1",
        "salarié . cotisations . retraite complémentaire . salarié . taux T2",
        "salarié . cotisations . CEG . salarié",
        "salarié . cotisations . CEG",
        "salarié . cotisations . CEG . employeur",
        "salarié . cotisations . CEG . employeur . taux T1",
        "salarié . cotisations . chômage . salarié",
        "salarié . cotisations . chômage",
        "salarié . cotisations . chômage . salarié . taux",
        "salarié . cotisations . chômage . employeur",
        "salarié . cotisations . chômage . employeur . taux",
        "salarié . cotisations . CSG-CRDS",
        "salarié . cotisations . CSG-CRDS . CSG",
        "salarié . cotisations . CSG-CRDS . CSG . déductible",
        "salarié . cotisations . CSG-CRDS . CSG . déductible . taux",
        "salarié . cotisations . CSG-CRDS . assiette de base",
        "salarié . cotisations . CSG-CRDS . assiette de base . assiette abattue",
        "salarié . rémunération . net . imposable . heures supplémentaires et complémentaires défiscalisées",
        "date",
        "salarié . cotisations . CSG-CRDS . CSG . non déductible",
        "salarié . cotisations . CSG-CRDS . CSG . non déductible . taux",
        "salarié . cotisations . CSG-CRDS . CRDS",
        "salarié . cotisations . CSG-CRDS . CRDS . taux",
        "salarié . cotisations . APEC . salarié",
        "salarié . cotisations . APEC",
        "salarié . cotisations . prévoyances . salarié",
        "salarié . cotisations . prévoyances . santé . salarié",
        "salarié . convention collective . BTP . catégorie . ouvrier . prévoyance complémentaire . salarié",
        "salarié . convention collective . BTP . catégorie . etam . prévoyance complémentaire . salarié",
        "salarié . convention collective . BTP . catégorie . cadre . prévoyance complémentaire . salarié",
        "salarié . convention collective . HCR . prévoyance conventionnelle . salarié",
        "salarié . convention collective . optique . prévoyance . salarié",
        "salarié . convention collective . sport . cotisations . prévoyance . salarié",
        "salarié . cotisations . prévoyances . conventionnelle . salarié",
        "salarié . cotisations . exonérations . salarié",
        "salarié . cotisations . exonérations",
        "salarié . cotisations . exonérations . employeur",
        "salarié . cotisations . exonérations . heures supplémentaires . employeur",
        "entreprise . salariés . effectif",
        "entreprise . salariés . effectif . seuil",
        "salarié . cotisations . exonérations . JEI",
        "salarié . cotisations . exonérations . lodeom",
        "salarié . cotisations . exonérations . lodeom . zone un",
        "salarié . cotisations . exonérations . lodeom . montant",
        "salarié . cotisations . exonérations . réduction générale",
        "salarié . cotisations . maladie . employeur . taux",
        "salarié . cotisations . maladie . employeur . taux réduit",
        "salarié . temps de travail . SMIC",
        "SMIC . horaire",
        "salarié . cotisations . allocations familiales . taux",
        "salarié . cotisations . allocations familiales . taux réduit",
        "salarié . cotisations . CSA . taux",
        "salarié . cotisations . ATMP . taux minimum",
        "salarié . convention collective . sport . exonération cotisation AT",
        "salarié . cotisations . ATMP",
        "salarié . régimes spécifiques . intermittents du spectacle . artiste . réduction de taux . ATMP",
        "salarié . cotisations . ATMP . taux",
        "salarié . cotisations . ATMP . taux connu",
        "salarié . cotisations . ATMP . taux réduit",
        "salarié . cotisations . ATMP . taux collectif",
        "salarié . cotisations . ATMP . taux moyen",
        "salarié . cotisations . FNAL . taux",
        "salarié . cotisations . FNAL . éligible taux réduit",
        "salarié . cotisations . exonérations . JEI . montant",
        "salarié . cotisations . exonérations . heures supplémentaires . salarié",
        "salarié . cotisations . exonérations . heures supplémentaires . salarié . taux des cotisations réduites",
        "salarié . rémunération . revenus de remplacement . net",
        "salarié . rémunération . revenus de remplacement",
        "salarié . activité partielle . indemnités",
        "salarié . rémunération . revenus de remplacement . cotisation maladie",
        "salarié . cotisations . CSG-CRDS . revenus de remplacement",
        "salarié . cotisations . CSG-CRDS . revenus de remplacement . CSG déductible",
        "salarié . cotisations . CSG-CRDS . revenus de remplacement . CSG déductible . plafond",
        "SMIC",
        "salarié . cotisations . CSG-CRDS . revenus de remplacement . CSG non déductible",
        "salarié . cotisations . CSG-CRDS . revenus de remplacement . CSG non déductible . plafond",
        "salarié . cotisations . CSG-CRDS . revenus de remplacement . CRDS",
        "salarié . rémunération . frais professionnels . titres-restaurant . montant",
      ],
      "unit": {
        "denominators": [
          "mois",
        ],
        "numerators": [
          "€",
        ],
      },
    },
    {
      "missingVariables": {
        "dirigeant . gérant minoritaire": 162997.1825,
        "entreprise . TVA": 2.0003,
        "entreprise . association non lucrative": 4.0007,
        "entreprise . catégorie juridique": 3095984.994099999,
        "entreprise . salariés . effectif . seuil": 184.03310000000002,
        "salarié . activité partielle": 12069.2637,
        "salarié . contrat": 84747.25210000001,
        "salarié . contrat . statut cadre": 216.05949999999999,
        "salarié . contrat . temps de travail . temps partiel": 15286.6289,
        "salarié . convention collective": 22822.624499999998,
        "salarié . cotisations . ATMP . taux collectif": 4.000299999999999,
        "salarié . cotisations . ATMP . taux connu": 8.001100000000001,
        "salarié . cotisations . ATMP . taux réduit": 4.0007,
        "salarié . cotisations . exonérations . JEI": 196.0415,
        "salarié . cotisations . exonérations . lodeom": 24.0087,
        "salarié . cotisations . prévoyances . santé . montant": 212.03789999999998,
        "salarié . cotisations . prévoyances . santé . taux employeur": 212.03789999999998,
        "salarié . coût total employeur . aides . emploi franc . éligible": 10.003499999999999,
        "salarié . régimes spécifiques . DFS": 432.0618999999999,
        "salarié . rémunération . avantages en nature": 2252.2869,
        "salarié . rémunération . frais professionnels . titres-restaurant": 2668.2869,
        "salarié . rémunération . frais professionnels . trajets domicile travail . forfait mobilités durables . montant": 6168.6368999999995,
        "salarié . rémunération . frais professionnels . trajets domicile travail . prime de transport . montant": 6168.8033,
        "salarié . rémunération . frais professionnels . trajets domicile travail . transports publics . montant": 14002.286500000002,
        "salarié . rémunération . primes . activité . base": 2252.2869,
        "salarié . rémunération . primes . fin d'année": 2252.2869,
        "salarié . temps de travail . heures supplémentaires": 4820.300100000001,
        "établissement . localisation": 244.0363,
      },
      "nodeValue": 4752.1452,
      "traversedVariables": [
        "salarié . coût total employeur",
        "salarié . rémunération . brut",
        "salarié . contrat . salaire brut",
        "salarié . rémunération . avantages en nature . montant",
        "salarié . rémunération . avantages en nature",
        "dirigeant . assimilé salarié",
        "dirigeant",
        "dirigeant . régime social",
        "entreprise . catégorie juridique . SELARL",
        "entreprise . catégorie juridique",
        "entreprise . catégorie juridique . SELAS",
        "entreprise . catégorie juridique . autre",
        "entreprise . catégorie juridique . EI . auto-entrepreneur",
        "entreprise . catégorie juridique . EI",
        "entreprise . catégorie juridique . SAS",
        "entreprise . catégorie juridique . SARL",
        "dirigeant . gérant minoritaire",
        "entreprise . catégorie juridique . SARL . unipersonnelle",
        "entreprise . catégorie juridique . SAS . unipersonnelle",
        "salarié . rémunération . primes",
        "salarié . rémunération . primes . activité",
        "salarié . rémunération . primes . activité . base",
        "salarié . convention collective . sport . primes",
        "salarié . convention collective . sport",
        "salarié . convention collective",
        "salarié . rémunération . primes . activité . conventionnelles",
        "salarié . convention collective . optique . prime d'ancienneté",
        "salarié . convention collective . optique",
        "salarié . rémunération . primes . ancienneté",
        "salarié . rémunération . primes . fin d'année . montant",
        "salarié . rémunération . primes . fin d'année",
        "salarié . rémunération . indemnités CDD",
        "salarié . contrat . CDD",
        "salarié . contrat",
        "salarié . rémunération . heures supplémentaires",
        "salarié . activité partielle",
        "salarié . contrat . stage",
        "salarié . temps de travail . heures supplémentaires",
        "salarié . contrat . apprentissage",
        "salarié . contrat . temps de travail . temps partiel",
        "période . semaines par mois",
        "période",
        "salarié . temps de travail . durée légale",
        "salarié . convention collective . compta . majoration heures supplémentaires",
        "salarié . convention collective . compta",
        "salarié . convention collective . HCR . majoration heures supplémentaires",
        "salarié . convention collective . HCR",
        "salarié . temps de travail . heures supplémentaires . majoration",
        "salarié . rémunération . heures complémentaires",
        "salarié . temps de travail . heures complémentaires",
        "salarié . temps de travail . heures complémentaires . majoration",
        "salarié . rémunération . frais professionnels",
        "salarié . rémunération . frais professionnels . titres-restaurant . employeur",
        "salarié . rémunération . frais professionnels . titres-restaurant",
        "salarié . rémunération . frais professionnels . trajets domicile travail . employeur",
        "salarié . rémunération . frais professionnels . trajets domicile travail . transports publics . employeur",
        "salarié . rémunération . frais professionnels . trajets domicile travail . transports publics . montant",
        "salarié . rémunération . frais professionnels . trajets domicile travail . forfait mobilités durables . montant",
        "salarié . régimes spécifiques . DFS",
        "salarié . rémunération . frais professionnels . trajets domicile travail . prime de transport . montant",
        "salarié . contrat . temps de travail . quotité",
        "salarié . contrat . temps de travail",
        "salarié . temps de travail . durée légale . mensuelle",
        "salarié . activité partielle . retrait absence",
        "salarié . convention collective . BTP . cotisations employeur",
        "salarié . convention collective . BTP",
        "salarié . convention collective . SVP . cotisations employeur",
        "salarié . convention collective . SVP",
        "salarié . convention collective . sport . cotisations . employeur",
        "salarié . convention collective . sport . cotisations",
        "salarié . cotisations . employeur",
        "salarié . cotisations . maladie . employeur",
        "salarié . cotisations . CSA",
        "salarié . cotisations . vieillesse . employeur",
        "salarié . cotisations . vieillesse . employeur . déplafonnée",
        "salarié . régimes spécifiques . intermittents du spectacle . artiste . réduction de taux",
        "salarié . régimes spécifiques . intermittents du spectacle . artiste",
        "salarié . contrat . CDD . motif",
        "salarié . régimes spécifiques . DFS . profession . journaliste . réduction de taux",
        "salarié . régimes spécifiques . DFS . profession . journaliste",
        "salarié . cotisations . vieillesse . employeur . déplafonnée . taux",
        "salarié . cotisations . assiette",
        "salarié . cotisations . assiette . sans prévoyance",
        "salarié . cotisations . assiette forfaitaire . rémunération réelle",
        "salarié . régimes spécifiques . intermittents du spectacle . artiste . acteur de complément . assiette forfaitaire",
        "salarié . convention collective . sport . cotisations . assiette forfaitaire",
        "salarié . cotisations . assiette forfaitaire",
        "plafond sécurité sociale",
        "salarié . rémunération . frais professionnels . déductible",
        "salarié . rémunération . frais professionnels . titres-restaurant . déductible",
        "salarié . rémunération . frais professionnels . trajets domicile travail . déductible",
        "salarié . rémunération . frais professionnels . trajets domicile travail . prime de transport . déductible",
        "salarié . contrat . stage . gratification minimale",
        "salarié . cotisations . prévoyances . employeur . non déductible socialement",
        "salarié . cotisations . prévoyances . employeur",
        "salarié . cotisations . prévoyances . santé . employeur",
        "salarié . cotisations . prévoyances . santé",
        "salarié . convention collective . sport . cotisations . régime frais de santé",
        "salarié . cotisations . prévoyances . santé . montant",
        "salarié . cotisations . prévoyances . santé . taux employeur",
        "salarié . convention collective . BTP . catégorie . ouvrier . prévoyance complémentaire . employeur",
        "salarié . convention collective . BTP . catégorie . ouvrier",
        "salarié . convention collective . BTP . catégorie . etam . prévoyance complémentaire . employeur",
        "salarié . convention collective . BTP . catégorie . etam",
        "salarié . convention collective . BTP . catégorie . cadre . prévoyance complémentaire . employeur",
        "salarié . convention collective . BTP . catégorie . cadre",
        "salarié . convention collective . HCR . prévoyance conventionnelle . employeur",
        "salarié . convention collective . optique . prévoyance . employeur",
        "salarié . convention collective . sport . cotisations . prévoyance . employeur",
        "salarié . cotisations . prévoyances . conventionnelle . employeur",
        "salarié . contrat . statut cadre",
        "salarié . cotisations . vieillesse . employeur . plafonnée",
        "salarié . cotisations . vieillesse . employeur . plafonnée . taux",
        "salarié . cotisations . retraite complémentaire . employeur",
        "situation personnelle . domiciliation fiscale à l'étranger",
        "salarié . cotisations . retraite complémentaire",
        "salarié . temps de travail . plafond sécurité sociale",
        "salarié . temps de travail . effectif . quotité",
        "salarié . temps de travail . effectif",
        "salarié . temps de travail",
        "salarié . activité partielle . heures chômées",
        "salarié . régimes spécifiques . intermittents du spectacle . retraite complémentaire techniciens et cadre",
        "salarié . régimes spécifiques . intermittents du spectacle . artiste . non cadre",
        "salarié . cotisations . retraite complémentaire . employeur . taux T1",
        "salarié . régimes spécifiques . intermittents du spectacle . technicien . non cadre",
        "salarié . régimes spécifiques . intermittents du spectacle . technicien",
        "salarié . cotisations . retraite complémentaire . employeur . taux T2",
        "salarié . cotisations . retraite complémentaire . salarié",
        "salarié . cotisations . retraite complémentaire . salarié . taux T1",
        "salarié . cotisations . retraite complémentaire . salarié . taux T2",
        "salarié . cotisations . CEG . employeur",
        "salarié . cotisations . CEG",
        "salarié . cotisations . CEG . employeur . taux T1",
        "salarié . cotisations . CEG . salarié",
        "salarié . cotisations . CET . employeur",
        "salarié . cotisations . CET . employeur . taux",
        "salarié . cotisations . allocations familiales",
        "salarié . cotisations . chômage . employeur",
        "salarié . cotisations . chômage",
        "salarié . cotisations . chômage . employeur . taux",
        "salarié . cotisations . APEC . employeur",
        "salarié . cotisations . AGS",
        "salarié . cotisations . FNAL",
        "salarié . cotisations . PEEC",
        "entreprise . salariés . effectif",
        "entreprise . salariés . effectif . seuil",
        "salarié . cotisations . contribution au dialogue social",
        "salarié . convention collective . sport . cotisations . formation professionnelle",
        "salarié . cotisations . formation professionnelle",
        "salarié . cotisations . versement mobilité",
        "entreprise . association non lucrative",
        "salarié . cotisations . taxe d'apprentissage",
        "salarié . régimes spécifiques . alsace moselle",
        "établissement . localisation . département",
        "établissement . localisation",
        "salarié . cotisations . CPF CDD",
        "salarié . cotisations . forfait social",
        "salarié . cotisations . exonérations . employeur",
        "salarié . cotisations . exonérations",
        "salarié . cotisations . exonérations . heures supplémentaires . employeur",
        "salarié . cotisations . exonérations . JEI",
        "salarié . cotisations . exonérations . lodeom",
        "salarié . cotisations . exonérations . lodeom . zone un",
        "salarié . cotisations . exonérations . lodeom . montant",
        "salarié . cotisations . exonérations . réduction générale",
        "salarié . cotisations . maladie . employeur . taux",
        "salarié . cotisations . maladie . employeur . taux réduit",
        "salarié . temps de travail . SMIC",
        "SMIC . horaire",
        "date",
        "salarié . cotisations . allocations familiales . taux",
        "salarié . cotisations . allocations familiales . taux réduit",
        "salarié . cotisations . CSA . taux",
        "salarié . cotisations . ATMP . taux minimum",
        "salarié . convention collective . sport . exonération cotisation AT",
        "salarié . cotisations . ATMP",
        "salarié . régimes spécifiques . intermittents du spectacle . artiste . réduction de taux . ATMP",
        "salarié . cotisations . ATMP . taux",
        "salarié . cotisations . ATMP . taux connu",
        "salarié . cotisations . ATMP . taux réduit",
        "salarié . cotisations . ATMP . taux collectif",
        "salarié . cotisations . ATMP . taux moyen",
        "salarié . cotisations . FNAL . taux",
        "salarié . cotisations . FNAL . éligible taux réduit",
        "salarié . cotisations . exonérations . JEI . montant",
        "salarié . cotisations . exonérations . salarié",
        "salarié . cotisations . exonérations . heures supplémentaires . salarié",
        "salarié . cotisations . exonérations . heures supplémentaires . salarié . taux des cotisations réduites",
        "salarié . cotisations . vieillesse . salarié",
        "salarié . régimes spécifiques . impatriés",
        "salarié . cotisations . vieillesse",
        "salarié . cotisations . vieillesse . salarié . déplafonnée",
        "salarié . cotisations . vieillesse . salarié . déplafonnée . taux",
        "salarié . contrat . apprentissage . assiette réduite apprentissage",
        "salarié . cotisations . vieillesse . salarié . plafonnée",
        "salarié . cotisations . vieillesse . salarié . plafonnée . taux",
        "salarié . activité partielle . indemnités",
        "salarié . régimes spécifiques . taxe sur les salaires",
        "entreprise . TVA",
        "salarié . coût total employeur . aides",
        "salarié . coût total employeur . aides . embauche",
        "salarié . coût total employeur . aides . emploi franc . éligible",
        "salarié . contrat . CDI",
        "salarié . contrat . professionnalisation . salarié de 45 ans et plus",
        "salarié . contrat . professionnalisation",
        "salarié . coût total employeur . aides . emploi franc",
        "salarié . activité partielle . indemnisation entreprise",
      ],
      "unit": {
        "denominators": [
          "mois",
        ],
        "numerators": [
          "€",
        ],
      },
    },
  ],
}
`;

exports[`e2e test mon-entreprise api > Test evaluate micro entreprise 2`] = `
{
  "evaluate": [
    {
      "missingVariables": {
        "entreprise . activité . mixte": 24.0042,
      },
      "nodeValue": 9324,
      "traversedVariables": [
        "dirigeant . auto-entrepreneur . cotisations et contributions",
        "dirigeant",
        "dirigeant . régime social",
        "entreprise . catégorie juridique . SELARL",
        "entreprise . catégorie juridique",
        "entreprise . catégorie juridique . SELAS",
        "entreprise . catégorie juridique . autre",
        "entreprise . catégorie juridique . EI . auto-entrepreneur",
        "entreprise . catégorie juridique . EI",
        "dirigeant . auto-entrepreneur",
        "dirigeant . auto-entrepreneur . cotisations et contributions . cotisations",
        "déclaration charge sociales",
        "entreprise . exonérations . ACRE",
        "entreprise . durée d'activité",
        "entreprise . date de création",
        "entreprise . durée d'activité . en début d'année",
        "période . début d'année",
        "période",
        "date",
        "dirigeant . auto-entrepreneur . cotisations et contributions . cotisations . taux prestation de service",
        "entreprise . activité . libérale . réglementée",
        "déclaration charge sociales . nature de l'activité",
        "entreprise . activité . libérale",
        "entreprise . activité",
        "entreprise . chiffre d'affaires . service",
        "entreprise . chiffre d'affaires . service BIC",
        "dirigeant . indépendant . PL",
        "entreprise . activité . mixte",
        "entreprise . imposition . régime . micro-entreprise",
        "entreprise . imposition . IS",
        "DRI . accompagnement imposition . régime memento fiscal . RSI",
        "DRI",
        "DRI . accompagnement imposition . régime memento fiscal . RN",
        "DRI . accompagnement imposition . régime memento fiscal . DECC",
        "DRI . accompagnement imposition . régime memento fiscal . SPECIAL",
        "DRI . accompagnement imposition . régime memento fiscal . MICROE",
        "entreprise . activité . service ou vente",
        "entreprise . chiffre d'affaires . service BNC",
        "dirigeant . auto-entrepreneur . chiffre d'affaires",
        "dirigeant . auto-entrepreneur . cotisations et contributions . cotisations . taux vente restauration hébergement",
        "entreprise . chiffre d'affaires . vente restauration hébergement",
        "dirigeant . auto-entrepreneur . cotisations et contributions . TFC",
        "dirigeant . auto-entrepreneur . cotisations et contributions . TFC . commerce",
        "dirigeant . auto-entrepreneur . cotisations et contributions . TFC . métiers",
        "dirigeant . auto-entrepreneur . cotisations et contributions . CFP",
        "dirigeant . auto-entrepreneur . cotisations et contributions . CFP . revenus BIC",
        "entreprise . chiffre d'affaires . BIC",
        "dirigeant . auto-entrepreneur . cotisations et contributions . CFP . revenus BNC",
      ],
      "unit": {
        "denominators": [
          "an",
        ],
        "numerators": [
          "€",
        ],
      },
    },
    {
      "missingVariables": {
        "entreprise . activité . mixte": 100.0178,
        "établissement . localisation": 7.0005,
      },
      "nodeValue": 1469,
      "traversedVariables": [
        "dirigeant . rémunération . impôt",
        "dirigeant . rémunération",
        "dirigeant",
        "impôt . taux d'imposition",
        "impôt . méthode de calcul . taux neutre",
        "dirigeant . auto-entrepreneur . impôt . versement libératoire",
        "dirigeant . auto-entrepreneur . impôt",
        "dirigeant . auto-entrepreneur",
        "impôt . méthode de calcul",
        "impôt . taux neutre d'impôt sur le revenu . barème Guadeloupe Réunion Martinique",
        "impôt . taux neutre d'impôt sur le revenu . barème Guyane Mayotte",
        "établissement . localisation . outre-mer . Guadeloupe Réunion Martinique",
        "établissement . localisation . département",
        "établissement . localisation",
        "impôt . taux neutre d'impôt sur le revenu",
        "date",
        "impôt . revenu imposable",
        "dirigeant . rémunération . net . imposable",
        "dirigeant . assimilé salarié",
        "dirigeant . régime social",
        "entreprise . catégorie juridique . SELARL",
        "entreprise . catégorie juridique",
        "entreprise . catégorie juridique . SELAS",
        "entreprise . catégorie juridique . autre",
        "entreprise . catégorie juridique . EI . auto-entrepreneur",
        "entreprise . catégorie juridique . EI",
        "dirigeant . indépendant",
        "dirigeant . auto-entrepreneur . impôt . revenu imposable",
        "entreprise . imposition . régime . micro-entreprise",
        "entreprise . imposition . IS",
        "DRI . accompagnement imposition . régime memento fiscal . RSI",
        "DRI",
        "DRI . accompagnement imposition . régime memento fiscal . RN",
        "DRI . accompagnement imposition . régime memento fiscal . DECC",
        "DRI . accompagnement imposition . régime memento fiscal . SPECIAL",
        "DRI . accompagnement imposition . régime memento fiscal . MICROE",
        "entreprise . chiffre d'affaires . vente restauration hébergement",
        "entreprise . activité . service ou vente",
        "entreprise . chiffre d'affaires . service BIC",
        "déclaration charge sociales",
        "dirigeant . indépendant . PL",
        "entreprise . activité . mixte",
        "entreprise . chiffre d'affaires . service BNC",
        "dirigeant . auto-entrepreneur . chiffre d'affaires",
        "bénéficiaire . dividendes . imposables",
        "dirigeant . auto-entrepreneur . impôt . versement libératoire . montant",
      ],
      "unit": {
        "denominators": [
          "an",
        ],
        "numerators": [
          "€",
        ],
      },
    },
    {
      "missingVariables": {
        "entreprise . activité . mixte": 124.02199999999999,
        "établissement . localisation": 7.0005,
      },
      "nodeValue": 31207,
      "traversedVariables": [
        "dirigeant . auto-entrepreneur . revenu net . après impôt",
        "dirigeant . auto-entrepreneur",
        "dirigeant . auto-entrepreneur . revenu net",
        "dirigeant . auto-entrepreneur . cotisations et contributions",
        "dirigeant",
        "dirigeant . régime social",
        "entreprise . catégorie juridique . SELARL",
        "entreprise . catégorie juridique",
        "entreprise . catégorie juridique . SELAS",
        "entreprise . catégorie juridique . autre",
        "entreprise . catégorie juridique . EI . auto-entrepreneur",
        "entreprise . catégorie juridique . EI",
        "dirigeant . auto-entrepreneur . cotisations et contributions . cotisations",
        "déclaration charge sociales",
        "entreprise . exonérations . ACRE",
        "entreprise . durée d'activité",
        "entreprise . date de création",
        "entreprise . durée d'activité . en début d'année",
        "période . début d'année",
        "période",
        "date",
        "dirigeant . auto-entrepreneur . cotisations et contributions . cotisations . taux prestation de service",
        "entreprise . activité . libérale . réglementée",
        "déclaration charge sociales . nature de l'activité",
        "entreprise . activité . libérale",
        "entreprise . activité",
        "entreprise . chiffre d'affaires . service",
        "entreprise . chiffre d'affaires . service BIC",
        "dirigeant . indépendant . PL",
        "entreprise . activité . mixte",
        "entreprise . imposition . régime . micro-entreprise",
        "entreprise . imposition . IS",
        "DRI . accompagnement imposition . régime memento fiscal . RSI",
        "DRI",
        "DRI . accompagnement imposition . régime memento fiscal . RN",
        "DRI . accompagnement imposition . régime memento fiscal . DECC",
        "DRI . accompagnement imposition . régime memento fiscal . SPECIAL",
        "DRI . accompagnement imposition . régime memento fiscal . MICROE",
        "entreprise . activité . service ou vente",
        "entreprise . chiffre d'affaires . service BNC",
        "dirigeant . auto-entrepreneur . chiffre d'affaires",
        "dirigeant . auto-entrepreneur . cotisations et contributions . cotisations . taux vente restauration hébergement",
        "entreprise . chiffre d'affaires . vente restauration hébergement",
        "dirigeant . auto-entrepreneur . cotisations et contributions . TFC",
        "dirigeant . auto-entrepreneur . cotisations et contributions . TFC . commerce",
        "dirigeant . auto-entrepreneur . cotisations et contributions . TFC . métiers",
        "dirigeant . auto-entrepreneur . cotisations et contributions . CFP",
        "dirigeant . auto-entrepreneur . cotisations et contributions . CFP . revenus BIC",
        "entreprise . chiffre d'affaires . BIC",
        "dirigeant . auto-entrepreneur . cotisations et contributions . CFP . revenus BNC",
        "dirigeant . rémunération . impôt",
        "dirigeant . rémunération",
        "impôt . taux d'imposition",
        "impôt . méthode de calcul . taux neutre",
        "dirigeant . auto-entrepreneur . impôt . versement libératoire",
        "dirigeant . auto-entrepreneur . impôt",
        "impôt . méthode de calcul",
        "impôt . taux neutre d'impôt sur le revenu . barème Guadeloupe Réunion Martinique",
        "impôt . taux neutre d'impôt sur le revenu . barème Guyane Mayotte",
        "établissement . localisation . outre-mer . Guadeloupe Réunion Martinique",
        "établissement . localisation . département",
        "établissement . localisation",
        "impôt . taux neutre d'impôt sur le revenu",
        "impôt . revenu imposable",
        "dirigeant . rémunération . net . imposable",
        "dirigeant . assimilé salarié",
        "dirigeant . indépendant",
        "dirigeant . auto-entrepreneur . impôt . revenu imposable",
        "bénéficiaire . dividendes . imposables",
        "dirigeant . auto-entrepreneur . impôt . versement libératoire . montant",
      ],
      "unit": {
        "denominators": [
          "an",
        ],
        "numerators": [
          "€",
        ],
      },
    },
  ],
}
`;

exports[`e2e test mon-entreprise api > Test openapi.json endpoint 2`] = `
{
  "components": {
    "schemas": {
      "EvaluateBody": {
        "properties": {
          "expressions": {
            "$ref": "#/components/schemas/Expressions",
          },
          "situation": {
            "$ref": "#/components/schemas/Situation",
          },
        },
        "required": [
          "expressions",
        ],
        "type": "object",
      },
      "EvaluateResponse": {
        "description": "Schéma retourné par l'endpoint evaluate",
        "oneOf": [
          {
            "properties": {
              "evaluate": {
                "items": {
                  "anyOf": [
                    {
                      "properties": {
                        "missingVariables": {
                          "items": {
                            "type": "string",
                          },
                          "type": "array",
                        },
                        "nodeValue": {
                          "type": "number",
                        },
                        "traversedVariables": {
                          "items": {
                            "type": "string",
                          },
                          "type": "array",
                        },
                      },
                      "type": "object",
                    },
                    {
                      "properties": {
                        "error": {
                          "properties": {
                            "message": {
                              "type": "string",
                            },
                          },
                          "type": "object",
                        },
                      },
                      "type": "object",
                    },
                  ],
                },
                "type": "array",
              },
            },
            "type": "object",
          },
          {
            "properties": {
              "situationError": {
                "properties": {
                  "message": {
                    "type": "string",
                  },
                },
                "type": "object",
              },
            },
            "type": "object",
          },
        ],
      },
      "Expressions": {
        "description": "Une expression ou un tableau d'expressions Publicodes",
        "oneOf": [
          {
            "items": {
              "$ref": "#/components/schemas/PublicodesExpression",
            },
            "minItems": 1,
            "type": "array",
          },
          {
            "$ref": "#/components/schemas/PublicodesExpression",
          },
        ],
      },
      "InputValidationError": {
        "items": {
          "properties": {
            "dataPath": {
              "type": "string",
            },
            "keyword": {
              "type": "string",
            },
            "message": {
              "type": "string",
            },
            "params": {
              "additionalProperties": {
                "type": "string",
              },
              "type": "object",
            },
            "schemaPath": {
              "type": "string",
            },
          },
          "type": "object",
        },
        "type": "array",
      },
      "PublicodesExpression": {
        "description": "Une expression Publicodes",
        "oneOf": [
          {
            "type": "number",
          },
          {
            "type": "string",
          },
          {
            "additionalProperties": {},
            "minProperties": 1,
            "type": "object",
          },
        ],
      },
      "Rule": {
        "properties": {
          "nodeKind": {
            "type": "string",
          },
          "rawNode": {
            "additionalProperties": {
              "type": "object",
            },
            "properties": {
              "nom": {
                "type": "string",
              },
              "question": {
                "type": "string",
              },
            },
            "type": "object",
          },
          "replacements": {
            "items": {
              "type": "object",
            },
            "type": "array",
          },
          "suggestions": {
            "type": "object",
          },
          "title": {
            "type": "string",
          },
        },
        "type": "object",
      },
      "Rules": {
        "additionalProperties": {
          "$ref": "#/components/schemas/Rule",
        },
        "type": "object",
      },
      "Situation": {
        "additionalProperties": {
          "$ref": "#/components/schemas/PublicodesExpression",
        },
        "description": "La situation avec laquelle l'expression ou les expressions seront évaluées",
        "type": "object",
      },
    },
  },
  "info": {
    "description": "Cet API expose les règles Publicodes de [mon-entreprise](https://mon-entreprise.urssaf.fr/).

Pour plus d'informations, consultez [notre documentation](/d%C3%A9veloppeur/api).
",
    "title": "Mon-entreprise API",
    "version": "beta",
  },
  "openapi": "3.0.0",
  "paths": {
    "/evaluate": {
      "post": {
        "operationId": "evaluate",
        "requestBody": {
          "content": {
            "application/json": {
              "examples": {
                "MicroEntreprise": {
                  "value": {
                    "expressions": [
                      {
                        "unité": "€/an",
                        "valeur": "dirigeant . auto-entrepreneur . cotisations et contributions",
                      },
                      "dirigeant . rémunération . impôt",
                      "dirigeant . auto-entrepreneur . revenu net . après impôt",
                    ],
                    "situation": {
                      "dirigeant . auto-entrepreneur . chiffre d'affaires": "42000 €/an",
                      "dirigeant . auto-entrepreneur . impôt . versement libératoire": "non",
                      "entreprise . activité": "'libérale'",
                      "entreprise . activité . libérale . réglementée": "non",
                      "entreprise . catégorie juridique": "'EI'",
                      "entreprise . catégorie juridique . EI . auto-entrepreneur": "oui",
                      "impôt . méthode de calcul": "'taux neutre'",
                    },
                  },
                },
                "SalaireBrutEnNet": {
                  "value": {
                    "expressions": [
                      "salarié . rémunération . net . à payer avant impôt",
                    ],
                    "situation": {
                      "salarié . contrat": "'CDI'",
                      "salarié . contrat . salaire brut": {
                        "unité": "€ / mois",
                        "valeur": 4200,
                      },
                    },
                  },
                },
              },
              "schema": {
                "$ref": "#/components/schemas/EvaluateBody",
              },
            },
          },
          "required": true,
        },
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EvaluateResponse",
                },
              },
            },
            "description": "La requête a réussi",
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InputValidationError",
                },
              },
            },
            "description": "Erreur de validation d'entrée",
          },
        },
        "summary": "Evalue une expression avec un situation donnée",
        "tags": [
          "publicodes-api",
        ],
      },
    },
    "/rules": {
      "get": {
        "operationId": "rules",
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Rules",
                },
              },
            },
            "description": "La requête a réussi",
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InputValidationError",
                },
              },
            },
            "description": "Erreur de validation d'entrée",
          },
        },
        "summary": "Retourne toutes les règles",
        "tags": [
          "publicodes-api",
        ],
      },
    },
    "/rules/{rule}": {
      "get": {
        "operationId": "rules-rule",
        "parameters": [
          {
            "description": "Rule to get",
            "examples": {
              "Impot": {
                "value": "impôt . méthode de calcul",
              },
              "SalaireNet": {
                "value": "salarié . rémunération . net . à payer avant impôt",
              },
            },
            "in": "path",
            "name": "rule",
            "required": true,
            "schema": {
              "type": "string",
            },
          },
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/Rule",
                    },
                    {
                      "properties": {
                        "error": {
                          "properties": {
                            "message": {
                              "type": "string",
                            },
                          },
                          "type": "object",
                        },
                      },
                      "type": "object",
                    },
                  ],
                },
              },
            },
            "description": "La requête a réussi",
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InputValidationError",
                },
              },
            },
            "description": "Erreur de validation d'entrée",
          },
        },
        "summary": "Retourne la règle demandée",
        "tags": [
          "publicodes-api",
        ],
      },
    },
  },
  "servers": [
    {
      "url": "/api/v1/",
    },
  ],
}
`;
